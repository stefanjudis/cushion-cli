#!/usr/bin/env node

/*
 * cushion-cli
 * https://github.com/stefanjudis/cushion-cli
 *
 * Copyright (c) 2012 stefan judis
 * Licensed under the MIT license.
 */

var cli = require('../lib/cliRunner'),
    fs = require('fs'),
    args = process.argv;

if (args.length > 2) {
  handleArguments( args );
} else {
  cli.init();
}

function handleArguments (args) {
  args.forEach(function( value ) {
    if (value === '-v' || value === '-version') {
      showVersionNumber();
    }
  });
}

function showVersionNumber() {
  fs.readFile(__dirname + '/../package.json', function(error, data) {
    var packageJSON = JSON.parse(data);

    console.log(packageJSON.version);
  })
}
